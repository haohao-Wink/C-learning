## 内存对齐

### 内存对齐的解释
>对齐规则是：

>>按照成员的声明顺序，依次安排内存，其偏移量为成员大小的整数倍

>>0可以看为任何成员的整数倍

>>结构体的大小为最大成员的整数倍

### 为什么要内存对齐
> 平台原因

>>不是所有硬件平台都能访问任意地址上的任意数据；某些硬件平台只能在某些地址处取某些特定类型的数据，否则抛出硬件异常

> 性能原因

>>数据结构（尤其是栈）应该尽可能在自然边界上对齐

>>原因：为了访问未对齐的内存，处理器需要做两次内存访问，而对齐的内存仅需要一次

### 内存对齐的三大原则

#### 数据成员对齐规则
结构的数据成员，第一个数据成员放在偏移为0的地方；
以后每个数据成员的对齐按照``` #pragma pack```指定的数值和这个数据成员自身长度中比较小的

#### 结构的整体对齐原则
在数据成员完成各自对齐之后，结构本身也要进行对齐，对齐按照``` #pragma pack```指定的数值和结构最大数据成员长度中比较小的

#### 结构体作为成员
如果一个结构体中有某些结构体成员，则内部结构体成员要从成员最大元素大小的整数倍和``` #pragma pack```指定的数值中最小的一个的整数倍地址开始存储

```
#pragma pack(n)//对齐系数
```